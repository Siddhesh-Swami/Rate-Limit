## Installation

```bash
$ npm install
```

## Running the app

```bash
# development
$ npm run start

# watch mode
$ npm run start:dev

# production mode
$ npm run start:prod
```

## Overview

This repository contains two microservices:

1. **Token Generation Service**: This service is responsible for generating tokens based on the provided access keys.
2. **Rate Limitation Service**: This service is responsible for enforcing rate limits on the tokens generated by the Token Generation Service.

## Communication between Microservices

The communication between the microservices is done using Redis Pub-Sub. The Token Generation Service publishes the token data to a channel, and the Rate Limitation Service subscribes to that channel to receive the token data.

## Running the Application

### Steps

1. Clone the repository
2. Navigate to the respective directories of the both the services
3. Run `npm install` to install the dependencies
4. Start the application using `npm run start` (development mode) or `npm run start:prod` (production mode)

## Endpoints

### Token Generation Service

- `POST /admin/key`: Generates a token based on the provided access key with rate limit and expiry specified
- `GET /admin/keys`: Fetches all the access keys
- `PATCH /admin/key`: Updates the rate limit and expiry of existing access keys

### Rate Limitation Service

- `GET /token`: Enforces rate limits on the token based on the provided access key and fetches the token
